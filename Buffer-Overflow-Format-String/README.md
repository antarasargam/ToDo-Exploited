Buffer Overflow:
----------------

Description of the program:
---------------------------

To demonstrate a successful buffer overflow using format string vulnerability, a simple Linux command line application "ToDo" was selected.
ToDo is a command line task manager which keep a track of tasks entered by users.

Description of exploit:
-----------------------

The aim of this exploit was to overwrite the buffer created by one of the functions in the application in such a way that the return pointer of that function is overwritten by our exploit buffer.

In our exploit, we overwrote the "buf" in the addTodo function with our taintedbuffer in "todo" passed in as the argument. We used the "sprintf" function's vulnerability in this exploit. The taintedbuffer contained the return addresses (pointing back to the start of the buffer) followed by the shellcode address followed by NOP slides. 

Our exploit overwrote the addTodo's return address with our return address which pointed it back to the buffer where the NOP slides were located.
This corrupted address will be supplied by the user at run time as this can keep changing as stack might change on multiple executions.

Our exploit's main function is in the application program where we renamed the application's main function into real_name(). 

The application is located at : /home/student/Downloads/bufferoverflow and in this repository as well

Build instruction for vulnerable program:
-----------------------------------------

ToDo is a simple application consisting of one C file. It can be compiled using the GCC tool.
To start the ToDo repository, after compiling the program, ./todo init needs to be executed. This command creates a Todo repository text
file which manages the user entered tasks. 

Exploit Demonstration:
----------------------

To run the exploit, the below steps must be followed:

* The program is already compiled to the binary file "todo". In order to re-Compile the program, using the following command:


gcc -m32 -z execstack -fno-stack-protector -Wno-format-string todo -o todo.c

* Compile the program as above and run the program using the following command: 

./todo add exploit *any random value*

* The output of this should print out the printbuf starting address. Take a note of this address and use this in the next command.

* Now, use the address from the above output and run the program to successfully exploit the application:

./todo add exploit *buffer address from above step*

* You should see the shell code prompted to you at this moment.
